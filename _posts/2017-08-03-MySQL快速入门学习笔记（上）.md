---
layout:     post
title:      MySQLå¿«é€Ÿå…¥é—¨å­¦ä¹ ç¬”è®°ï¼ˆä¸Šç¯‡ï¼‰
subtitle:
date: Â  Â  Â  2017-08-03
author: Â  Â  å‡©èŒ»MUMU
header-img: img/post-bg-alibaba.jpg
catalog: true
tags:
 Â   - MySQL
 Â   - æ•°æ®åº“
 Â   - å‡½æ•°
    - å‘½ä»¤
---

## å‰è¨€
```
å‚è€ƒåŸæ–‡é“¾æ¥ï¼Œæœ¬æ–‡æ˜¯æˆ‘è¾¹çœ‹åŸæ–‡å­¦ä¹ ï¼Œè¾¹æ‘˜æŠ„å†™å‡ºæ¥çš„ã€‚ã€‚ã€‚
http://mysql.phpxy.com/
```

é˜…è¯»æœ¬æ–‡å‰å¦‚æœæ‚¨äº†è§£å¸¸ç”¨çš„å‘½ä»¤è¡Œæ“ä½œä¼šæ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚ä»€ä¹ˆéƒ½ä¸ä¼šçš„ä¹Ÿä¸è¡Œå•Šï¼Œè‡³å°‘ä½ è¦ä¼šè£…å¥½MySQLå•Šã€‚çŸ¥é“æ€ä¹ˆåœ¨MySQLä¸­è¾“å…¥å‘½ä»¤å•Šã€‚ä¸ä¼šçš„è‡ªå·±å»å­¦ï¼Œä¸Šé¢åŸæ–‡é“¾æ¥é‡Œä¹Ÿæœ‰è®²ï¼Œè‡ªå·±çœ‹çœ‹å§ã€‚

## æ•°æ®åº“çš„è¿æ¥ç™»å½•
```
musql -h localhost -u root -p
```

å‚æ•°è¯´æ˜ï¼š

|å‚æ•° |è¯´æ˜|
|------|-----|
|-h|è¡¨ç¤ºæ•°æ®åº“çš„è¿æ¥åœ°å€ï¼Œå¦‚æœæ˜¯æœ¬æœºå°±å¯ä»¥çœç•¥|
|-u |è¡¨ç¤ºæŒ‡å®šè¦ç™»å½•çš„ç”¨æˆ·|
|-p |è¡¨ç¤ºä½¿ç”¨å¯†ç ç™»å½•|

æ³¨ï¼šé€šå¸¸æ˜¯åœ¨å›è½¦ä¹‹åï¼Œè¾“å…¥å¯†ç ã€‚å› ä¸ºï¼Œå¯†ç è¾“å…¥æ—¶çš„å­—ç¬¦æ˜¯ä¸å¯è§çš„ï¼Œè¾“å®Œå¯†ç ç›´æ¥å›è½¦ç™»å½•ã€‚é˜²æ­¢æ—è¾¹æœ‰äººæŠŠé‡è¦çš„å¯†ç çœ‹èµ°ã€‚

çœ‹åˆ°å‘½ä»¤è¡Œå‡ºç°

```
mysql>
```
åˆ™è¯´æ˜ç™»å½•æˆåŠŸï¼Œå·²ç»è¿›å…¥äº†MySQLçš„æ•°æ®åº“ç¨‹åºï¼Œmysql > è¡¨ç¤ºç­‰å¾…è¾“å…¥æŒ‡ä»¤ã€‚

åœ¨ç™»é™†æˆåŠŸåæœ‰è¿™ä¹ˆä¸€å¥æç¤ºï¼Œå¯èƒ½å¤§å®¶ä¸å¤ªç†è§£ï¼š

Your MySQL connection id is 7

è¡¨ç¤ºç¬¬7æ¬¡è¿æ¥ç™»é™†ï¼Œæ¯ç™»é™†ä¸€æ¬¡è¿™ä¸ªidä¸ºåŠ 1ã€‚ä¸‹ä¸€æ¬¡æ˜¾ç¤ºçš„ä¼šæ˜¯ç¬¬8æ¬¡ã€‚

## æ•°æ®åº“æ“ä½œ
### åˆ›å»ºæ•°æ®åº“
```
create database DB_MUMU;
```
åˆ›å»ºä¸€ä¸ªåä¸ºDB_MUMUçš„æ•°æ®åº“ï¼Œæ³¨æ„è¯­å¥ä»¥**;**ç»“å°¾ã€‚ä¸å‡ºæ„å¤–çš„è¯ç»ˆç«¯ä¸­å¯ä»¥çœ‹åˆ°ï¼š
```
> mysql> create database DB_MUMU;
Query OK, 1 row affected (0.01 sec)
```
â€œQuery OKâ€ è¡¨ç¤ºä¸Šé¢çš„å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œæ‰€æœ‰çš„ DDL å’Œ DML(ä¸åŒ… æ‹¬ SELECT)æ“ä½œæ‰§è¡ŒæˆåŠŸåéƒ½æ˜¾ç¤ºâ€œQuery OKâ€ï¼Œè¿™é‡Œç†è§£ä¸ºæ‰§è¡ŒæˆåŠŸå°±å¯ä»¥äº†ï¼›â€œ1 row affectedâ€ è¡¨ç¤ºæ“ä½œåªå½±å“äº†æ•°æ®åº“ä¸­ä¸€è¡Œçš„è®°å½•ï¼Œâ€œ0.00 secâ€åˆ™è®°å½•äº†æ“ä½œæ‰§è¡Œçš„æ—¶é—´ã€‚
å¦‚æœè¦æ–°åˆ›å»ºçš„æ•°æ®åº“å·²ç»å­˜åœ¨çš„è¯ï¼Œå°†ä¼šæç¤ºï¼š
```
mysql> create database DB_MUMU;
ERROR 1007 (HY000): Canâ€™t create database â€˜DB_MUMUâ€™; database exists
```
### æŸ¥çœ‹æ•°æ®åº“
```
show databases;
```
å€¼å¾—æ³¨æ„çš„æ˜¯databasesåº”è¯¥æ˜¯+sçš„å¤æ•°å½¢å¼ã€‚ç”¨å•æ•°è¿˜æ˜¯å¤æ•°å½¢åŠ¿å…·ä½“æƒ…å†µæŒ‰ç…§è‹±è¯­è¯­æ³•å†™å°±è¡Œäº†ã€‚æ¯”å¦‚æ•°æ®åº“ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯å°±ä¿å­˜åœ¨mysqlæ•°æ®åº“çš„userè¡¨ä¸­ã€‚
å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰§è¡Œæœ¬æ“ä½œåå¯ä»¥çœ‹åˆ°å­˜åœ¨çš„æ•°æ®åº“ã€‚æœ‰å‡ ä¸ªæ˜¯MySQLè‡ªå·±åˆ›å»ºçš„ï¼Œç”¨æ¥ç®¡ç†æ•°æ®åº“ç³»ç»Ÿã€‚

![show databases](http://upload-images.jianshu.io/upload_images/4697920-a38aaa1d86dc97c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### é€‰ä¸­æ•°æ®åº“
```
mysql> use DB_MUMU;
Database changed
```
è¿™æ ·å°±è¿›å…¥åˆ°äº† DB_MUMUæ•°æ®åº“ä¸­äº†ã€‚å½“ç„¶ä½ å¯ä»¥ä½¿ç”¨ use è¯­å¥éšæ—¶åˆ‡æ¢è¦æ“ä½œçš„æ•°æ®åº“ï¼Œåˆšåˆšé€‰ä¸­äº†DB_MUMU ï¼Œç°åœ¨æˆ‘ä»¬åˆ‡æ¢åˆ°mysqlå†…å®¹çš„ mysql æ•°æ®åº“çœ‹çœ‹ï¼š
```
mysql> use mysql;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A
Database changed
```
å‡ºç° â€ Database changedâ€œ è¡¨ç¤ºåˆ‡æ¢æˆåŠŸã€‚
### æŸ¥çœ‹æ•°æ®åº“ä¸­çš„è¡¨
è¿›å…¥åˆ°åº“åæˆ‘ä»¬å¯ä»¥çœ‹è¿™ä¸ªåº“é‡Œé¢æœ‰å¤šå°‘ä¸ªæ•°æ®è¡¨ã€‚
```
show tables;
```
**ä½¿ç”¨use è¿›å…¥åˆ°æŸä¸ªæ•°æ®åº“åæ‰å¯ä»¥ä½¿ç”¨show tables**

ç¤ºä¾‹ï¼ŒæŸ¥çœ‹mysqlæ•°æ®åº“çš„è¡¨ï¼š

![show tables;](http://upload-images.jianshu.io/upload_images/4697920-35d71420b600a737.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
è¿™äº›è¡¨é‡Œé¢çš„å†…å®¹æ˜¯å…³ç³»æ•°æ®åº“æœåŠ¡å™¨ç›¸å…³çš„ç”¨æˆ·ã€æƒé™ã€æ•°æ®åº“çŠ¶æ€ã€è®¾ç½®ç­‰ç›¸å…³çš„ä¿¡æ¯æ•°æ®ã€‚

### åˆ é™¤æ•°æ®åº“

```
drop database åº“å;
```
æ³¨æ„ï¼š
drop æ˜¯æ±‰è¯­å¯ä»¥ç¿»è¯‘ä¸ºæŒ‡æ‰ä¸‹æ¥ï¼Œä¸è¦äº†çš„æ„æ€
database æ˜¯æŒ‡åº“
åº“å æ˜¯æŒ‡è¦åˆ æ‰çš„åº“çš„åç§°
ç¤ºä¾‹ï¼š
```
mysql> drop database liwenkai;
Query OK, 0 rows affected (0.01 sec)
```
ã€åˆ‡è®°ã€‘æ³¨ï¼šæ•°æ®åº“åˆ é™¤åï¼Œä¸‹é¢çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šå…¨éƒ¨åˆ é™¤ï¼Œæ‰€ä»¥åˆ é™¤å‰ä¸€å®šè¦æ…é‡å¹¶åšå¥½ç›¸åº”çš„å¤‡ä»½ã€‚

## æ•°æ®è¡¨æ“ä½œ
### åˆ›å»ºè¡¨
```
create table è¡¨å(å­—æ®µå1 å­—æ®µç±»å‹,â€¦å­—æ®µån å­—æ®µç±»å‹n);              //è¯­æ³•
create table user(username varchar(20),password varchar(32));     //ç¤ºä¾‹
//åˆ›å»ºä¸€ä¸ªè¡¨åå«userçš„è¡¨ï¼Œç¬¬ä¸€ä¸ªå­—æ®µä¸ºusernameã€è¡¨çš„å­—æ®µç±»å‹ä¸ºvarcharé•¿åº¦ä¸º32ä¸ªé•¿åº¦ã€‚ç¬¬äºŒä¸ªå­—æ®µä¸ºpasswordï¼Œç±»å‹ä¹Ÿä¸ºvarcharï¼Œé•¿åº¦ä¹Ÿä¸º32ä¸ªé•¿åº¦ã€‚
```
å¯ä»¥åœ¨ç±»å‹åæ¥ä¸Šé•¿åº¦å¦‚ï¼švarchar(20)ã€‚
å­—ç¬¦æ•°æ®ç±»å‹åé¢ç¢°åˆ°å†è¯´å§ã€‚
```
mysql> create table emp(
ename varchar(10),
hiredate date,
sal float(10,2),
deptno int(2)
);
Query OK, 0 rows affected (0.63 sec)
```
```
mysql> create table dept( deptno int(4), deptname varchar(20));
Query OK, 0 rows affected (0.12 sec)
```
### æŸ¥çœ‹è¡¨å­—æ®µç»“æ„ä¿¡æ¯
```
desc è¡¨å;
desc  table;
//æŸ¥çœ‹tableè¡¨çš„è¡¨ç»“æ„ã€‚
```
æ“ä½œæ˜¾ç¤ºå¦‚ä¸‹ï¼š(å¥½å§ï¼Œè¿™æ®µæ“ä½œæ•ˆæœæ˜¯æŠ„çš„ã€‚)
```
mysql> desc table;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| ename | varchar(10) | YES | | NULL | |
| hiredate | date | YES | | NULL | |
| sal | decimal(10,2) | YES | | NULL | |
| deptno | int(2) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
4 rows in set (0.39 sec)
//å‡ºç°çš„ä¸æ˜¯ä¸€æ¨¡ä¸€æ ·çš„å­—æ®µç»“æ„ä¿¡æ¯å¾ˆæ­£å¸¸ï¼Œåªæ˜¯åšä¸ªç¤ºä¾‹è€Œå·²ã€‚ä¸å¿…åœ¨æ„ã€‚å¼„æ‡‚æ¯ä¸ªSQLè¯­å¥çš„å«ä¹‰å’Œä½œç”¨å°±è¡Œäº†ã€‚
```
### æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¯­å¥

å¥½å§ï¼Œçœ‹åˆ°è¿™ä¸ªæ ‡é¢˜æˆ‘ä¹Ÿä¸€çŸ¥åŠè§£çš„ã€‚ç»§ç»­å¾€ä¸‹çœ‹å§ã€‚

|ç±»åˆ«|è¯¦ç»†è§£é‡Š|
|-----|----------|
|åŸºæœ¬è¯­æ³•|show create table è¡¨å \G;
|ç¤ºä¾‹è¯­å¥|show create table emp \G;
|ç¤ºä¾‹è¯´æ˜|æŸ¥çœ‹è¡¨empçš„åˆ›å»ºè¯­å¥

æœ¬æ¥äººå®¶èµ„æ–™ä¸Šï¼Œæ¯ä¸ªè¯­å¥éƒ½æ˜¯ç”¨è¿™ç§è¡¨æ ¼è§£é‡Šçš„ï¼Œæˆ‘å«Œç¹çã€‚å‰é¢çš„æ²¡ç”¨ï¼Œåˆ°è¿™é‡Œè¶Šæ¥è¶Šè§‰å¾—è¿™ä¸ªè¡¨æ ¼è§£é‡Šå¾ˆæœ‰å¿…è¦ã€‚ä»è¿™é‡Œå¼€å§‹ç”¨è¿™ç§è¡¨æ ¼å•¦ã€‚empæ˜¯è¡¨åï¼Œä¹‹å‰ä¸Šä¸ªåŸæ–‡æœ¬æ¥ä¹Ÿæ˜¯empä½†æ˜¯è¢«æˆ‘å¼ºè¡Œæ”¹æˆäº†tableï¼Œç»“æœçœ‹å§ã€‚åˆ°è¿™é‡Œå¦‚æœè¿˜ç”¨tableä½œè¡¨åçš„è¯ï¼ŒSQLè¯­å¥ä¸­å°±ä¼šå‡ºç°ä¸¤ä¸ªtableå•è¯ï¼Œå®¹æ˜“è®©å¤§å®¶ææ··äº†ã€‚
æ‰§è¡Œå®Œæ•´ç¤ºä¾‹ï¼š
```
mysql> show create table emp \G;   //åˆ«é—®æˆ‘è¿™ä¸ªGä»€ä¹ˆé¬¼ï¼Œåé¢è§£é‡Šã€‚
Table: emp    //å—¯ï¼Œè¡¨åemp,æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥å«empã€‚åæ­£å°±èµ·äº†è¿™ä¹ˆä¸ªåå­—ã€‚
Create Table: CREATE TABLE emp (
ename varchar(10) DEFAULT NULL,
hiredate date DEFAULT NULL,
sal decimal(10,2) DEFAULT NULL,
deptno int(2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;      //è¿™äº›å°±æ˜¯åˆ›å»ºè¿™å¼ è¡¨çš„æ—¶å€™çš„è¯­å¥ã€‚åé¢çš„å¼•æ“å’Œå­—ç¬¦é›†å†è¯´
1 row in set (0.00 sec)
ERROR:
No query specified
```
å¯ä»¥çœ‹åˆ°è¡¨å®šä¹‰ä»¥å¤–ï¼Œè¿˜å¯ä»¥çœ‹åˆ°è¡¨çš„ engineï¼ˆå­˜å‚¨å¼•æ“) å’Œ charset(å­—ç¬¦é›†)ç­‰ä¿¡æ¯ã€‚â€œ\Gâ€é€‰é¡¹çš„å«ä¹‰æ˜¯ä½¿å¾—è®°å½•èƒ½å¤ŸæŒ‰ç…§å­—æ®µç«–ç€æ’åˆ—ï¼Œå¯¹äºå†… å®¹æ¯”è¾ƒé•¿çš„è®°å½•æ›´æ˜“äºæ˜¾ç¤ºã€‚é‚£ä¹Ÿå°±æ˜¯è¯´åªè¦ä½ å±å¹•è¶³å¤Ÿå®½ï¼Œä¸è§‰å¾—çœ‹ç€ä¸èˆ’æœçš„è¯å¯ä»¥ä¸åŠ  \G é€‰é¡¹å’¯ã€‚
å—¯ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥ç”¨æ¥è¿™ä¸ªè¡¨æ˜¯æ€ä¹ˆå»ºçš„ï¼Œä¸»è¦æœ‰å“ªäº›å­—æ®µï¼Œå¯¹åº”å­—æ®µçš„æ•°æ®ç±»å‹ã€‚
### åˆ é™¤è¡¨
|ç±»åˆ« |è¯¦è§£|
|------|-----|
|åŸºæœ¬è¯­æ³•|drop table è¡¨å;
|è¯­æ³•ç¤ºä¾‹|drop table emp;
|ç¤ºä¾‹è¯´æ˜|åˆ é™¤empè¿™å¼ è¡¨
```
mysql> drop table emp;
Query OK, 0 rows affected (0.34 sec)
```
**æ³¨ï¼šåˆ é™¤è¡¨ã€‚è¡¨å’Œæ•°æ®å‡ä¼šä¸¢å¤±ï¼Œè¯·å‹¿å¿…åˆ é™¤é‡è¦è¡¨ä¹‹å‰å¤‡ä»½æ•°æ®ã€‚**
### æŒ‡å®šè¡¨å¼•æ“å’Œå­—ç¬¦é›†
#### æŒ‡å®šè¡¨å¼•æ“
ä»€ä¹ˆæ˜¯è¡¨å¼•æ“ï¼Ÿï¼Ÿå…ˆä¸ç®¡ï¼Œæœ‰å…´è¶£åœ¨è°·æ­Œäº†è§£å§ã€‚
åœ¨åˆ›å»ºè¡¨æœ€åï¼Œæˆ‘ä»¬å¸¸ç”¨MyISAMæˆ–è€…InnoDBå¼•æ“ã€‚åœ¨æŒ‡å®šå¼•æ“æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼š
```
ENGINE=InnoDB
```
è¿™è¿˜ç”¨è¯´å—ï¼Ÿä¸Šä¸€æ¡å‘½ä»¤æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¯­å¥çš„æ˜¾ç¤ºç»“æœä»£ç é‡Œå°±æœ‰å•Šã€‚æ²¡çœ‹æ‡‚ï¼Ÿ

#### æŒ‡å®šè¡¨é»˜è®¤å­—ç¬¦é›†ï¼š
```
DEFAULT CHARSET=utf8
```
éœ‡æƒŠ!utf8å±…ç„¶æ²¡æœ‰-ã€‚ã€‚ã€‚ä¸æ˜¯UTF-8å—ï¼Ÿï¼Ÿå¤§å°å†™ä¸ç…§é¡¾ä¹Ÿå°±ç®—äº†ã€‚è¿-éƒ½ä¸¢äº†ã€‚

è°”è°”ï¼Œè¿™ã€‚ä¸ºä»€ä¹ˆéƒ½ç”¨è¿‡äº†åˆ é™¤è¡¨å‘½ä»¤æ‰ä»‹ç»æŒ‡å®šè¡¨å¼•æ“å’Œå­—ç¬¦é›†çš„è¯­å¥å‘¢ã€‚ã€‚æœ‰ç‚¹å„¿é©¬åç‚®å§ã€‚åº”è¯¥æ”¾åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ä¸€èµ·è¯´å•Šã€‚ã€‚
è¡¨æ“ä½œå®Œäº†ã€‚ã€‚ã€‚ä¸‹é¢æ˜¯æ•°æ®å­—æ®µæ“ä½œã€‚ã€‚ã€‚

## æ•°æ®å­—æ®µæ“ä½œ

å‡è®¾æˆ‘ä»¬å­˜åœ¨userè¡¨ï¼Œuserç»“æ„å¦‚ä¸‹ï¼š
```
mysql> desc user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| username | varchar(10) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
4 rows in set (0.01 sec)
//éƒ½çœ‹åˆ°è¿™ä¸€æ­¥å•¦ï¼Œå¤šä½™çš„è¯ä¹Ÿä¸ç”¨è¯´å•¦ã€‚ç›´æ¥ä¸Šä»£ç åº”è¯¥éƒ½æ‡‚ä»€ä¹ˆæ„æ€å§ã€‚è¦è¿˜çœŸä¸æ‡‚è¯´æ˜æ²¡å¥½å¥½çœ‹ã€‚è‡ªå·±ä»å¤´å†æ¥å§ã€‚
```
### ä¿®æ”¹è¡¨å­—æ®µç±»å‹modify

| ç±»åˆ«|è¯¦è§£|
|------|----|
|åŸºæœ¬è¯­æ³•|alter table è¡¨å modify å­—æ®µå varchar(20);
|ä»£ç ç¤ºä¾‹|alter table user modify username varchar(20);
|ç¤ºä¾‹è¯´æ˜|å°†userè¡¨çš„usernameçš„ç±»å‹æ”¹ä¸ºvarchar(20)

å¯ä»¥æŠŠè¿™ä¸ªalterç†è§£æˆç±»ä¼¼äºuseæŠŠã€‚é€‰å®šæ•°æ®åº“çš„æ—¶å€™æ˜¯use æ•°æ®åº“åï¼›
alterå°±æ˜¯é€‰å®šè¡¨ã€‚

![ä¿®æ”¹è¡¨å­—æ®µç±»å‹modify](http://upload-images.jianshu.io/upload_images/4697920-c5df362bdd38c1ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å“ˆå“ˆå“ˆï¼Œç”¨äº†è¿™ä¹ˆå¤šå¹´è¿˜æ˜¯è§‰å¾—QQçš„æˆªå›¾åŠŸèƒ½çœŸå¥½ç”¨ã€‚ã€‚
æ‰§è¡Œç»“æœï¼š
```
mysql> alter table user modify username varchar(20);
Query OK, 0 rows affected (0.48 sec)
Records: 0 Duplicates: 0 Warnings: 0
```
ä¸å¾—ä¸è¯´å…¶å®è¿™ä¸ªæ‰§è¡Œç»“æœæ²¡å•¥å¥½çœ‹çš„ï¼Œä½†æ˜¯è¿˜å¾—è¦æœ‰ã€‚
å†æ¥çœ‹ä¸€çœ¼ï¼Œç¡®è®¤è¿™ä¸ªå­—æ®µè¢«æ”¹è¿‡æ¥äº†ã€‚ã€‚ğŸ˜„
å†ç”¨descçœ‹ä¸€çœ¼ç¡®å®šæ”¹è¿‡æ¥æ²¡ã€‚
```
mysql> desc user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| username | varchar(20) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
4 rows in set (0.01 sec)
```

### å¢åŠ è¡¨å­—æ®µ

|ç±»åˆ«|è¯¦è§£|
|-----|------|
|åŸºæœ¬è¯­æ³•|alter table è¡¨å add column å­—æ®µå ç±»å‹;|
|ä»£ç ç¤ºä¾‹|alter table user add column age int(3);|
|å®ä¾‹è¯´æ˜|æ·»åŠ ä¸€ä¸ªå«åšageçš„å­—æ®µï¼Œç±»å‹æ˜¯é•¿åº¦ä¸º3çš„æ•´å‹|

å•è¯**columnæ„æ€æ˜¯â€œåˆ—â€**,å—¯ï¼Œè¿™ä¹Ÿæ²¡æ¯›ç—…ï¼Œæ•´ä¸ªæ•°æ®åº“ä¸­åªè¦è®°ä½columnæ˜¯åˆ—ï¼Œç„¶åâ€œåˆ—â€æ˜¯å­—æ®µå³å¯ã€‚int(3)ï¼šé•¿åº¦ä¸º3çš„æ•´å‹ï¼Ÿé‚£å°±æ˜¯è¯´èŒƒå›´åªèƒ½æ˜¯-999~999äº†å§ã€‚

```
mysql> alter table emp add column age int(3);
Query OK, 0 rows affected (0.40 sec)
Records: 0 Duplicates: 0 Warnings: 0
```

å†ç”¨descçœ‹ä¸€çœ¼ï¼Œç¡®å®šæ”¹è¿‡æ¥äº†ã€‚è°”è°”ï¼Œç•¥æœ‰ç‚¹å¼ºè¿«ç—‡å§ã€‚éè¦çœ‹ä¸€çœ¼ï¼Œç³»ç»Ÿéƒ½è¯´äº†Query OKäº†å•Šã€‚é‚£è¡Œï¼Œçœ‹çœ‹å§ï¼Œçœ‹çœ‹å§ã€‚çœ‹çœ‹ä¹Ÿæ— å¦¨ã€‚

```
mysql> desc user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| username | varchar(20) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
| age | int(3) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
5 rows in set (0.00 sec)
```
æˆ‘å°±è§‰å¾—è¿™æ²¡å•¥å¥½çœ‹çš„ã€‚ç›´æ¥å°±å¤åˆ¶ç²˜è´´äº†ã€‚ã€‚ã€‚
ä¸‹ä¸€ä¸ªè¯­å¥ï¼š
### å¢åŠ å­—æ®µæ—¶æ§åˆ¶å­—æ®µé¡ºåº
åˆšåˆšå­¦äº†å¢åŠ å­—æ®µã€‚å¦‚æœä½ ä»”ç»†å®éªŒå‘ç°æ¯æ¬¡éƒ½æ˜¯å¢åŠ åœ¨æœ€åé¢ï¼Œå¦‚ä½•åœ¨ç¬¬ä¸€ä¸ªå¢åŠ æˆ–è€…åœ¨æŒ‡å­—å­—æ®µä¹‹åå¢åŠ å‘¢ï¼Ÿ
å—¯ï¼Œè¿™å€’æ˜¯çœŸçš„ã€‚
|ç±»åˆ«|è¯¦è§£|
|-----|------|
|åŸºæœ¬è¯­æ³•|ALTER TABLE è¡¨å ADD å­—æ®µå å­—æ®µç±»å‹ AFTER å­—æ®µå;
|ä»£ç ç¤ºä¾‹|ALTER TABLE user ADD email VARCHAR(60) AFTER createip;
|ç¤ºä¾‹è¯´æ˜|åœ¨userè¡¨ä¸­ï¼Œåœ¨å­—æ®µcreatipåé¢å¢åŠ emailå­—æ®µï¼Œç±»å‹é•¿åº¦ä¸º60çš„varchar

|ç±»åˆ«|è¯¦è§£|
|-----|------|
|åŸºæœ¬è¯­æ³•|ALTER TABLE è¡¨å ADD å­—æ®µå å­—æ®µç±»å‹;
|ä»£ç ç¤ºä¾‹|ALTER TABLE user ADD  id INT(10) FIRST;
|ç¤ºä¾‹è¯´æ˜|åœ¨userè¡¨ä¸­åœ¨å¼€å§‹ï¼Œå°±æ˜¯æœ€å¼€å¤´é‚£ä¸€ç«¯å¤´å­ä¸Šå¢åŠ å­—æ®µidï¼Œé•¿åº¦ä¸º10çš„æ•´å‹ã€‚

æˆ‘è¯´æ€ä¹ˆä¹ä¸€çœ‹ä¸¤ä¸ªè¡¨æ ¼ï¼Œä¹‹å‰éƒ½æ˜¯ä¸€ä¸ªè¡¨æ ¼å•Šã€‚åŸæ¥æ˜¯åˆ†äº†ä¸¤ç§æƒ…å†µå•Šã€‚å—¯ï¼ŒæŒºåˆç†çš„ã€‚è¿˜æœ‰ï¼Œè¿™ä¹ˆæ€ä¹ˆè«åå…¶å¦™æ”¹ç”¨å¤§å†™äº†ã€‚
```
ALTER TABLE user ADD email VARCHAR(60) AFTER createip;
Query OK, 0 rows affected (0.40 sec)
Records: 0 Duplicates: 0 Warnings: 0
```
è€æ¯›ç—…ã€‚ã€‚ã€‚
```
mysql> desc user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| username | varchar(20) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
| email | varchar(60) | YES | | NULL | |
| age | int(3) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
6 rows in set (0.00 sec)
```
### åˆ é™¤è¡¨å­—æ®µ

|ç±»åˆ«|è¯¦è§£|
|-----|------|
|åŸºæœ¬è¯­æ³•|alter table è¡¨å drop column å­—æ®µå;
|ä»£ç ç¤ºä¾‹|alter table user drop column age;
|ç¤ºä¾‹è¯´æ˜|åˆ é™¤userè¡¨ä¸­çš„ageå­—æ®µ

```
mysql> alter table user drop column age;
Query OK, 0 rows affected (0.27 sec)
Records: 0 Duplicates: 0 Warnings: 0
```

```
mysql> desc user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| username | varchar(20) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
| email | varchar(60) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
5 rows in set (0.00 sec)
```
### è¡¨å­—æ®µæ”¹å
å¥½å§ï¼Œåˆšå¼€å§‹æˆ‘å¤©çœŸåœ°æƒ³ï¼Œæ”¹åï¼Ÿåˆ æ‰å­—æ®µï¼Œå†å¢åŠ å­—æ®µä¸è¡Œå—ï¼Ÿ
ä¸è¡Œï¼Œé‚£ä½ æŠŠæ•°æ®å’‹åŠï¼Ÿä¹Ÿä¸è¦å•¦ï¼Ÿ
è€Œæ”¹åçš„è¯æ•°æ®æ˜¯ä¸å—å½±å“çš„ã€‚
|ç±»åˆ«|è¯¦è§£|
|-----|------|
|åŸºæœ¬è¯­æ³•|alter table è¡¨å change å­—æ®µåŸå å­—æ®µæ–°å å­—æ®µç±»å‹;
|ä»£ç ç¤ºä¾‹|alter table user change email em varchar(60);
|ä»£ç è¯¦è§£|æŠŠuserè¡¨é‡Œé¢çš„emailå­—æ®µæ”¹åä¸ºem
è¯¦ç»†ç¤ºä¾‹ï¼š
```
mysql> alter table user change email em varchar(60);
Query OK, 0 rows affected (0.38 sec)
Records: 0 Duplicates: 0 Warnings: 0
```

```
mysql> desc user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| username | varchar(20) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
| em | varchar(60) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
5 rows in set (0.00 sec)
```
å…¨æ˜¯è¿™ä¸ªå¥—è·¯ï¼Œæ”¹ä¸€ä¸‹ï¼Œdescçœ‹ä¸€ä¸‹æ•ˆæœã€‚ã€‚ã€‚
### ä¿®æ”¹è¡¨å­—æ®µæ’åˆ—é¡ºåº
åœ¨å‰çš„å­—æ®µå¢åŠ å’Œä¿®æ”¹è¯­å¥ï¼ˆadd/change/modifyï¼‰ä¸­ï¼Œæœ€åéƒ½å¯ä»¥åŠ ä¸€ä¸ªå¯é€‰é¡¹ first|afterã€‚
//ã€‚ã€‚ã€‚å‘ç°è¿™åŸæ–‡ä½œè€…è€çˆ±æ”¾é©¬åç‚®ã€‚å•¥äº‹éƒ½ä¸æ—©è¯´ï¼Œå•¥çŸ¥è¯†ç‚¹éƒ½è—ç€æ–ç€ï¼Œç”Ÿæ€•ä½ å­¦ä¼šäº†ã€‚
å¢åŠ è¡¨å­—æ®µæ—¶æˆ‘ä»¬å·²ç»å­¦è¿‡äº†å¦‚ä½•è°ƒæ•´é¡ºåºã€‚æˆ‘ä»¬ç°åœ¨åœ¨æ¥çœ‹çœ‹å¦å¤–çš„changeæˆ–modifyå¦‚ä½•æ¥è°ƒæ•´é¡ºåºã€‚
//æ‰€ä»¥è¿™ä¸ªè°ƒæ•´æ’åˆ—é¡ºåºä¸»è¦æ˜¯ä½¿ç”¨changeå’Œmodifyçš„æ—¶å€™åŠ ä¸Šfirst/afteré€‰é¡¹æ¥å®ç°è°ƒæ•´é¡ºåˆ©ã€‚

é‚£å…ˆç”¨firsté€‰é¡¹è¯•ä¸€è¯•å§ï¼š
```
mysql> alter table user modify em varchar(60) first;
Query OK, 0 rows affected (0.41 sec)
Records: 0 Duplicates: 0 Warnings: 0
```
modifyæ˜¯åœ¨ä¿®æ”¹å­—æ®µç±»å‹ï¼ŒåŠ ä¸Šfirsté€‰é¡¹åœ¨ä¿®æ”¹å­—æ®µç±»å‹æ—¶é¡ºä¾¿å°±æŠŠemå­—æ®µç§»åŠ¨åˆ°å¼€å¤´äº†
```
mysql> desc user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| em | varchar(60) | YES | | NULL | |
| username | varchar(20) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
5 rows in set (0.00 sec)
```
ä»Šæ™šï¼ˆ2017å¹´8æœˆ3æ—¥ 00ç‚¹25åˆ†ï¼‰çš„æœ€åä¸€ä¸ªå­—æ®µæ“ä½œå‘½ä»¤äº†ã€‚å®Œäº†è¿™ä¸ªå°±å»ç¡å•¦ã€‚ã€‚
### ä¿®æ”¹è¡¨å
åˆ«é—®æˆ‘ä¸ºä»€ä¹ˆæŠŠä¿®æ”¹è¡¨åæ”¾åœ¨äº†å­—æ®µæ“ä½œé‡Œé¢è®²ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“åŸæ–‡ä½œè€…æ€ä¹ˆæƒ³çš„å•Šã€‚ã€‚ã€‚çœŸæ˜¯ä¼¤è„‘ç­‹å•Šã€‚å…ˆæ•²å§ï¼Œæ•²å®Œæœ‰å¿…è¦æ¬è¿çš„è¯å°±æ¬è¿å§ã€‚ã€‚
;

|ç±»åˆ«|è¯¦è§£|
|-----|------|
|åŸºæœ¬è¯­æ³•|alter table æ—§è¡¨å rename æ–°è¡¨å ;
|ç¤ºä¾‹ä»£ç  |alter table user rename new_user|ç¤ºä¾‹è¯´æ˜|å°†è¡¨useræ”¹åä¸ºnew_user
æ„Ÿè§‰è¿™ä¸ªå‘½ä»¤çœŸçš„ç®€å•ã€‚ä¸éš¾ç†è§£å•Šã€‚è‹±è¯­å¥½çš„å¥½å¤„å§ï¼Ÿï¼Ÿ
æ—©åœ¨å‰é¢å°±æ—©è¯¥å°†å•¦ã€‚

```
mysql> alter table user rename new_user;
Query OK, 0 rows affected (0.35 sec)
```

```
mysql> desc new_user;
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| Field | Type | Null | Key | Default | Extra |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
| em | varchar(60) | YES | | NULL | |
| username | varchar(20) | YES | | NULL | |
| password | varchar(32) | YES | | NULL | |
| createtime | int(10) | YES | | NULL | |
| createip | int(10) | YES | | NULL | |
Â±---------Â±--------------Â±-----Â±----Â±--------Â±------+
5 rows in set (0.00 sec)
```
hahahah,ä»Šæ™šçš„å®Œå•¦ã€‚ã€‚ã€‚è¿™äº›å°±ä¸Šç¯‡å§ã€‚ä¹Ÿå†™äº†ä¸¤å¤©å‘¢ã€‚
æ˜å¤©å¼€å§‹å†™ä¸‹ç¯‡ã€‚è€è§„çŸ©ï¼Œè¾¹å­¦è¾¹å†™ã€‚
ä¸‹ç¯‡è¦è®²è¿™äº›å†…å®¹å•¦ã€‚

![image.png](http://upload-images.jianshu.io/upload_images/4697920-ed5d7a6636d60bc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
